# 1. 初始化项目
参考：[搭建开发环境](https://reactnative.cn/docs/environment-setup)
### 1.1. 环境搭建
安装node和watchman，Watchman则是由 Facebook 提供的监视文件系统变更的工具。安装此工具可以提高开发时的性能（packager 可以快速捕捉文件的变化从而实现实时刷新）。
```
brew install node
brew install watchman
```
确认node的版本是否在v12以上。
```
$node -v
v12.9.1
```
设置npm源以提高下载效率
```
# 使用nrm工具切换淘宝源
npx nrm use taobao

# 如果之后需要切换回官方源可使用
npx nrm use npm
```
安装xcode
安装cocoapods
CocoaPods是用 Ruby 编写的包管理器（可以理解为针对 iOS 的 npm）。从 0.60 版本开始 react native 的 iOS 版本需要使用 CocoaPods 来管理依赖。你可以使用下面的命令来安装 CocoaPods。CocoaPods的版本需要 1.10 以上。
```
sudo gem install cocoapods
```
或
```
brew install cocoapods
```

## 1.2. 初始化最新rn的项目
注意
如果你之前全局安装过旧的react-native-cli命令行工具，请使用npm uninstall -g react-native-cli卸载掉它以避免一些冲突。
```
npx react-native init AwesomeProject
```
在初始化目录下执行 ```npm list``` 可以看到下载了哪些包。  
这些包都保存在node_modules目录下面。  
运行ios
```
cd AwesomeProject
yarn ios
# 或者
yarn react-native run-ios
```
运行ios报编译错误
```
React/RCTBridgeDelegate.h' file not found
```
[解决办法](https://stackoverflow.com/questions/56916798/react-rctbridgedelegate-h-file-not-found)
```
cd {安装目录}
pod install
```
执行过慢，要给命令行设置代理
在.bash_profile中添加
```
export http_proxy=http://127.0.0.1:52237
export https_proxy=$http_proxy
```
并使之生效
```
source ~/.bash_profile
```
测试
```
curl https://www.google.com
```
然后重新执行```pod install```
也可以指定版本
```
npx react-native init AwesomeProject --version X.XX.X
```

