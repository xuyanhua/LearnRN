# 1. 示例代码与释义

```react-native
import React from 'react';
import type { Node } from 'react';
import {
  SafeAreaView,
  ScrollView,
  StatusBar,
  StyleSheet,
  Text,
  useColorScheme,
  View, Dimensions, TextInput
} from 'react-native';

let widthOfMargin = Dimensions.get('window').width * 0.05;

const App: () => Node = () => {
  return (
    <View style={styles.contianer}>
      <TextInput style={styles.textInputStyle} placeholder={'请输入手机号'} />
      <Text style={styles.textPromptStyle}>
        您输入的手机号：
      </Text>
      <TextInput style={styles.textInputStyle} placeholder={'请输入密码'} secureTextEntry={true} />
      <Text style={styles.bigTextPromptStyle}>确定</Text>
    </View>
  );
};

const styles = StyleSheet.create({
  contianer: {
    flex: 1,
    backgroundColor: 'white',
    paddingTop: 80
  },
  textInputStyle: {
    margin: widthOfMargin,
    backgroundColor: 'gray',
    fontSize: 20
  },
  textPromptStyle: {
    margin: widthOfMargin,
    fontSize: 20
  },
  bigTextPromptStyle: {
    margin: widthOfMargin,
    backgroundColor: 'gray',
    fontSize: 20,
    color: 'white',
    textAlign: 'center',
    fontSize: 30,
    padding: 10
  }
});

export default App;
```

代码中

```react-native
import { StyleSheet, Text, View, Dimensions, TextInput } from 'react-native';
```

导入了几个变量，可分为两类，API和组件。其中Dimensions是API，它只能在代码中通过静态函数来使用其功能；而TextInput是组件，是可以显示在UI上的元素。

StyleSheet.create({})可以省略为{}，但省略后如果代码有错误不会提示。

flex:1表示组件的宽高会自动扩展。

# 2. 状态机
React框架将所有的UI视为一个简单的状态机，那么任意一个UI场景就是状态机中的一种状态。

随着状态机变量的改变，UI状态机也在不停地改变状态，UI场景也随之不停地被渲染。这样一个过程可以很轻松地做到数据与UI保持一致。


以下代码，可以让inputNum的显示与输入保持同步。主要利用了state状态保持一致。

```react-native
export default class App extends Component {
    constructor(props) {
        super(props);

        this.state = {
            inputNum: '',
            inputPW: ''
        };
        this.updatePW = this.updatePW.bind(this);
    }

    updateNum(newText) {
        this.setState((state) => {
            return {
                inputNum: newText,
            }
        })
    }
    updatePW(newText) {
        this.setState((state) => {
            return {
                inputPW: newText,
            }
        })
    }
    render() {
        return (
            <View style={styles.contianer}>
              <TextInput style={styles.textInputStyle} placeholder={'请输入手机号'} onChangeText={(newText) => this.updateNum(newText)}/>
              <Text style={styles.textPromptStyle}>
                您输入的手机号：{this.state.inputNum}
              </Text>
              <TextInput style={styles.textInputStyle} placeholder={'请输入密码'} secureTextEntry={true} />
              <Text style={styles.bigTextPromptStyle}>确定</Text>
            </View>
        );
    }
}
;
```


> 在React Native开发中，开发者需要将状态机变量视为“不可变的常量”。永远不要出现 `this.state.xxx=xxx`的语句。

> 当开发者需要改变状态机变量的值时，一定要并且只能使用`this.setState`函数。















